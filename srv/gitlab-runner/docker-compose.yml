services:
  gitlab-runner:
    image: gitlab/gitlab-runner:latest
    container_name: gitlab-runner
    restart: always
    volumes:
      - ./config:/etc/gitlab-runner
      - /var/run/docker.sock:/var/run/docker.sock
      - ./scripts:/scripts
      - ./scripts:/runner/scripts
      - ./config/ca.local.crt:/usr/local/share/ca-certificates/ca.local.crt
      - ./runner:/runner
    environment:
      - CI_SERVER_URL=https://git.ita.wat.edu.pl
      - REGISTRATION_TOKEN=TWÃ“J_TOKEN_REJESTRACJI
      - RUNNER_NAME=dind-runner-server
      - RUNNER_EXECUTOR=docker
      - DOCKER_IMAGE=debian:bookworm
      - TLS_CA_FILE=/usr/local/share/ca-certificates/ca.local.crt

